<Window x:Class="CocoroConsole.Windows.OtomeKairoDebugWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="otome_kairo デバッグ"
        Height="700"
        Width="350"
        WindowStartupLocation="CenterOwner">

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 上部：更新ボタン -->
        <Button Grid.Row="0"
                x:Name="RefreshButton"
                Content="更新"
                Width="90"
                Height="28"
                HorizontalAlignment="Right"
                Click="RefreshButton_Click"/>

        <!-- 中央 -->
        <ScrollViewer Grid.Row="1"
                      Margin="0,10,0,10"
                      VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- 現在の状態 -->
                <GroupBox Header="現在の状態"
                          Margin="0,0,0,10">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0"
                                   Grid.Column="0"
                                   Text="effective"
                                   FontWeight="SemiBold"/>
                        <TextBlock Grid.Row="0"
                                   Grid.Column="1"
                                   x:Name="EffectiveSummaryText"/>

                        <TextBlock Grid.Row="1"
                                   Grid.Column="0"
                                   Text="computed"
                                   FontWeight="SemiBold"
                                   Margin="0,6,0,0"/>
                        <TextBlock Grid.Row="1"
                                   Grid.Column="1"
                                   x:Name="ComputedSummaryText"
                                   Margin="0,6,0,0"/>
                    </Grid>
                </GroupBox>

                <!-- override設定 -->
                <GroupBox Header="override（完全上書き）">
                    <StackPanel Margin="10">
                        <TextBlock Text="※ すべて入力必須（数値は 0..1）"
                                   Foreground="#666666"
                                   Margin="0,0,0,10"/>

                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0"
                                       Grid.Column="0"
                                       Text="label"
                                       VerticalAlignment="Center"/>
                            <ComboBox x:Name="LabelComboBox"
                                      Grid.Row="0"
                                      Grid.Column="1"
                                      Height="26">
                                <ComboBoxItem Content="joy"/>
                                <ComboBoxItem Content="sadness"/>
                                <ComboBoxItem Content="anger"/>
                                <ComboBoxItem Content="fear"/>
                                <ComboBoxItem Content="neutral"/>
                            </ComboBox>

                            <TextBlock Grid.Row="1"
                                       Grid.Column="0"
                                       Text="intensity"
                                       VerticalAlignment="Center"
                                       Margin="0,6,0,0"/>
                            <TextBox x:Name="IntensityTextBox"
                                     Grid.Row="1"
                                     Grid.Column="1"
                                     Height="24"
                                     Margin="0,6,0,0"/>
                        </Grid>

                        <!-- components -->
                        <TextBlock Text="components"
                                   FontWeight="SemiBold"
                                   Margin="0,12,0,6"/>
                        <Grid Margin="20,0,0,0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0"
                                       Grid.Column="0"
                                       Text="joy"
                                       VerticalAlignment="Center"/>
                            <TextBox Grid.Row="0"
                                     Grid.Column="1"
                                     x:Name="JoyTextBox"
                                     Height="24"/>

                            <TextBlock Grid.Row="1"
                                       Grid.Column="0"
                                       Text="sadness"
                                       VerticalAlignment="Center"
                                       Margin="0,4,0,0"/>
                            <TextBox Grid.Row="1"
                                     Grid.Column="1"
                                     x:Name="SadnessTextBox"
                                     Height="24"
                                     Margin="0,4,0,0"/>

                            <TextBlock Grid.Row="2"
                                       Grid.Column="0"
                                       Text="anger"
                                       VerticalAlignment="Center"
                                       Margin="0,4,0,0"/>
                            <TextBox Grid.Row="2"
                                     Grid.Column="1"
                                     x:Name="AngerTextBox"
                                     Height="24"
                                     Margin="0,4,0,0"/>

                            <TextBlock Grid.Row="3"
                                       Grid.Column="0"
                                       Text="fear"
                                       VerticalAlignment="Center"
                                       Margin="0,4,0,0"/>
                            <TextBox Grid.Row="3"
                                     Grid.Column="1"
                                     x:Name="FearTextBox"
                                     Height="24"
                                     Margin="0,4,0,0"/>
                        </Grid>

                        <!-- policy -->
                        <TextBlock Text="policy"
                                   FontWeight="SemiBold"
                                   Margin="0,12,0,6"/>
                        <Grid Margin="20,0,0,0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0"
                                       Grid.Column="0"
                                       Text="cooperation"
                                       VerticalAlignment="Center"/>
                            <TextBox Grid.Row="0"
                                     Grid.Column="1"
                                     x:Name="CooperationTextBox"
                                     Height="24"/>

                            <TextBlock Grid.Row="1"
                                       Grid.Column="0"
                                       Text="refusal_bias"
                                       VerticalAlignment="Center"
                                       Margin="0,4,0,0"/>
                            <TextBox Grid.Row="1"
                                     Grid.Column="1"
                                     x:Name="RefusalBiasTextBox"
                                     Height="24"
                                     Margin="0,4,0,0"/>

                            <CheckBox Grid.Row="2"
                                      Grid.ColumnSpan="2"
                                      x:Name="RefusalAllowedCheckBox"
                                      Content="refusal_allowed"
                                      Margin="0,6,0,0"/>
                        </Grid>

                        <Button x:Name="ApplyOverrideButton"
                                Content="override適用"
                                Width="110"
                                Height="28"
                                HorizontalAlignment="Right"
                                Margin="0,16,0,0"
                                Click="ApplyOverrideButton_Click"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>

        <TextBlock Grid.Row="2"
                   x:Name="StatusText"
                   Foreground="#666666"/>
    </Grid>
</Window>
